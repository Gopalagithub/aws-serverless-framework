create:
  handler: app/src/sensors/main/create.handler
  iamRoleStatementsName: permitOnlyPut #optional custom role name setting instead of the default generated one 
  iamRoleStatements:
    - Effect: "Allow"        
      Action:
        - dynamodb:PutItem        
      Resource: "arn:aws:dynamodb:${self:provider.region}:*:table/${self:provider.environment.DYNAMODB_TABLE}"
  memorySize: 256
  timeout: 10
  package:
    individually: true
    exclude:
      - app/**
    include:
      - app/src/sensors/main/create.js
      - app/src/sensors/model/create.js
      - app/src/sensors/controller/create.js
      - app/schema/sensor.js
  events:
    - http:
        path: /api/v1/sensor
        method: post
        cors:
          origins: 
            - "*"
          headers:
            - Content-Type
            - Authorization
        authorizer:
          name: authorize
          resultTtlInSeconds: 30
          identitySource: method.request.header.Authorization
          type: request
